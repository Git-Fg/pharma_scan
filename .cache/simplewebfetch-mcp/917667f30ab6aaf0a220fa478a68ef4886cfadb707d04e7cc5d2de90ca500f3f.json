{
  "url": "https://docs.flutter.dev/testing/best-practices",
  "markdown": "# Performance best practices\n[Skip to main content](#site-content-title)\ndocs.flutter.dev uses cookies from Google to deliver and enhance the quality of its services and to analyze traffic.\n[Learn more](https://policies.google.com/technologies/cookies) OK, got it\n [![Flutter logo](https://docs.flutter.dev/assets/images/branding/flutter/logo/default.svg) Flutter Docs](https://docs.flutter.dev/ \"Go to the Flutter docs homepage.\")\n-   [User Guides](https://docs.flutter.dev/)\n-   [Learn](https://docs.flutter.dev/learn)\n-   [Reference](https://api.flutter.dev)\n[search](https://docs.flutter.dev/search \"Navigate to the docs.flutter.dev search page.\")\nroutine\n-   light\\_modeLight\n-   dark\\_modeDark\n-   night\\_sight\\_autoAutomatic\napps\n-   [![Flutter logo](https://docs.flutter.dev/assets/images/branding/flutter/logo/default.svg)Flutter](https://flutter.dev \"Navigate to the Flutter website.\")\n-   [![Flutter logo](https://docs.flutter.dev/assets/images/branding/flutter/logo/default.svg)FlutterDocs](https://docs.flutter.dev/ \"Navigate to the Flutter Docs website.\")\n-   [![Flutter logo](https://docs.flutter.dev/assets/images/branding/flutter/logo/default.svg)FlutterAPI](https://api.flutter.dev \"Navigate to the Flutter API website.\")\n-   [![Flutter logo](https://docs.flutter.dev/assets/images/branding/flutter/logo/default.svg)FlutterBlog](https://blog.flutter.dev \"Navigate to the Flutter Blog website.\")\n-   [![Dart logo](https://docs.flutter.dev/assets/images/branding/dart/logo.svg)Dart](https://dart.dev \"Navigate to the Dart website.\")\n-   [![Dart logo](https://docs.flutter.dev/assets/images/branding/dart/logo.svg)DartPad](https://dartpad.dev \"Navigate to the DartPad website.\")\n-   [![Dart logo](https://docs.flutter.dev/assets/images/branding/dart/logo.svg)pub.dev](https://pub.dev \"Navigate to the pub.dev website.\")\n[Get started](https://docs.flutter.dev/get-started/quick) menu close\n-   Install Flutter\n-   [\n    Start here\n    ](https://docs.flutter.dev/install)\n-   [\n    Quick start\n    ](https://docs.flutter.dev/install/quick)\n-   [\n    Custom setup\n    ](https://docs.flutter.dev/install/custom)\n-   User interface\n-   [\n    paletteIntroduction\n    ](https://docs.flutter.dev/ui)\n-   view\\_moduleWidget catalog\n    expand\\_more\n    -   [\n        Overview\n        ](https://docs.flutter.dev/ui/widgets)\n    -   Design systems\n        expand\\_more\n        -   [\n            Cupertino\n            ](https://docs.flutter.dev/ui/widgets/cupertino)\n        -   [\n            Material components\n            ](https://docs.flutter.dev/ui/widgets/material)\n    -   Base widgets\n        expand\\_more\n        -   [\n            Accessibility\n            ](https://docs.flutter.dev/ui/widgets/accessibility)\n        -   [\n            Animation\n            ](https://docs.flutter.dev/ui/widgets/animation)\n        -   [\n            Assets\n            ](https://docs.flutter.dev/ui/widgets/assets)\n        -   [\n            Async\n            ](https://docs.flutter.dev/ui/widgets/async)\n        -   [\n            Basics\n            ](https://docs.flutter.dev/ui/widgets/basics)\n        -   [\n            Input\n            ](https://docs.flutter.dev/ui/widgets/input)\n        -   [\n            Interaction\n            ](https://docs.flutter.dev/ui/widgets/interaction)\n        -   [\n            Layout\n            ](https://docs.flutter.dev/ui/widgets/layout)\n        -   [\n            Painting\n            ](https://docs.flutter.dev/ui/widgets/painting)\n        -   [\n            Scrolling\n            ](https://docs.flutter.dev/ui/widgets/scrolling)\n        -   [\n            Styling\n            ](https://docs.flutter.dev/ui/widgets/styling)\n        -   [\n            Text\n            ](https://docs.flutter.dev/ui/widgets/text)\n-   view\\_quiltLayout\n    expand\\_more\n    -   [\n        Introduction\n        ](https://docs.flutter.dev/ui/layout)\n    -   [\n        Build a layout\n        ](https://docs.flutter.dev/ui/layout/tutorial)\n    -   Lists & grids\n        expand\\_more\n        -   [\n            Create and use lists\n            ](https://docs.flutter.dev/cookbook/lists/basic-list)\n        -   [\n            Create a horizontal list\n            ](https://docs.flutter.dev/cookbook/lists/horizontal-list)\n        -   [\n            Create a grid view\n            ](https://docs.flutter.dev/cookbook/lists/grid-lists)\n        -   [\n            Create lists with different types of items\n            ](https://docs.flutter.dev/cookbook/lists/mixed-list)\n        -   [\n            Create lists with spaced items\n            ](https://docs.flutter.dev/cookbook/lists/spaced-items)\n        -   [\n            Work with long lists\n            ](https://docs.flutter.dev/cookbook/lists/long-lists)\n    -   Scrolling\n        expand\\_more\n        -   [\n            Overview\n            ](https://docs.flutter.dev/ui/layout/scrolling)\n        -   [\n            Use slivers to achieve fancy scrolling\n            ](https://docs.flutter.dev/ui/layout/scrolling/slivers)\n        -   [\n            Place a floating app bar above a list\n            ](https://docs.flutter.dev/cookbook/lists/floating-app-bar)\n        -   [\n            Create a scrolling parallax effect\n            ](https://docs.flutter.dev/cookbook/effects/parallax-scrolling)\n-   devicesAdaptive & responsive design\n    expand\\_more\n    -   [\n        Overview\n        ](https://docs.flutter.dev/ui/adaptive-responsive)\n    -   [\n        General approach\n        ](https://docs.flutter.dev/ui/adaptive-responsive/general)\n    -   [\n        SafeArea & MediaQuery\n        ](https://docs.flutter.dev/ui/adaptive-responsive/safearea-mediaquery)\n    -   [\n        Large screens & foldables\n        ](https://docs.flutter.dev/ui/adaptive-responsive/large-screens)\n    -   [\n        User input & accessibility\n        ](https://docs.flutter.dev/ui/adaptive-responsive/input)\n    -   [\n        Capabilities & policies\n        ](https://docs.flutter.dev/ui/adaptive-responsive/capabilities)\n    -   [\n        Automatic platform adaptations\n        ](https://docs.flutter.dev/ui/adaptive-responsive/platform-adaptations)\n    -   [\n        Best practices\n        ](https://docs.flutter.dev/ui/adaptive-responsive/best-practices)\n    -   [\n        Additional resources\n        ](https://docs.flutter.dev/ui/adaptive-responsive/more-info)\n-   paletteDesign & theming\n    expand\\_more\n    -   [\n        Share styles with themes\n        ](https://docs.flutter.dev/cookbook/design/themes)\n    -   [\n        Material design\n        ](https://docs.flutter.dev/ui/design/material)\n    -   [\n        Migrate to Material 3\n        ](https://docs.flutter.dev/release/breaking-changes/material-3-migration)\n    -   Text\n        expand\\_more\n        -   [\n            Fonts & typography\n            ](https://docs.flutter.dev/ui/design/text/typography)\n        -   [\n            Use a custom font\n            ](https://docs.flutter.dev/cookbook/design/fonts)\n        -   [\n            Export fonts from a package\n            ](https://docs.flutter.dev/cookbook/design/package-fonts)\n        -   [\n            Google Fonts packageopen\\_in\\_new\n            ](https://pub.dev/packages/google_fonts)\n    -   Custom graphics\n        expand\\_more\n        -   [\n            Use custom fragment shaders\n            ](https://docs.flutter.dev/ui/design/graphics/fragment-shaders)\n-   touch\\_appInteractivity\n    expand\\_more\n    -   [\n        Add interactivity to your app\n        ](https://docs.flutter.dev/ui/interactivity)\n    -   Gestures\n        expand\\_more\n        -   [\n            Introduction\n            ](https://docs.flutter.dev/ui/interactivity/gestures)\n        -   [\n            Handle taps\n            ](https://docs.flutter.dev/cookbook/gestures/handling-taps)\n        -   [\n            Drag an object outside an app\n            ](https://docs.flutter.dev/ui/interactivity/gestures/drag-outside)\n        -   [\n            Drag a UI element within an app\n            ](https://docs.flutter.dev/cookbook/effects/drag-a-widget)\n        -   [\n            Add Material touch ripples\n            ](https://docs.flutter.dev/cookbook/gestures/ripples)\n        -   [\n            Implement swipe to dismiss\n            ](https://docs.flutter.dev/cookbook/gestures/dismissible)\n    -   Input & forms\n        expand\\_more\n        -   [\n            Create and style a text field\n            ](https://docs.flutter.dev/cookbook/forms/text-input)\n        -   [\n            Retrieve the value of a text field\n            ](https://docs.flutter.dev/cookbook/forms/retrieve-input)\n        -   [\n            Handle changes to a text field\n            ](https://docs.flutter.dev/cookbook/forms/text-field-changes)\n        -   [\n            Manage focus in text fields\n            ](https://docs.flutter.dev/cookbook/forms/focus)\n        -   [\n            Build a form with validation\n            ](https://docs.flutter.dev/cookbook/forms/validation)\n    -   [\n        Display a snackbar\n        ](https://docs.flutter.dev/cookbook/design/snackbars)\n    -   [\n        Implement actions & shortcuts\n        ](https://docs.flutter.dev/ui/interactivity/actions-and-shortcuts)\n    -   [\n        Manage keyboard focus\n        ](https://docs.flutter.dev/ui/interactivity/focus)\n-   photo\\_libraryAssets & media\n    expand\\_more\n    -   [\n        Add assets and images\n        ](https://docs.flutter.dev/ui/assets/assets-and-images)\n    -   [\n        Display images from the internet\n        ](https://docs.flutter.dev/cookbook/images/network-image)\n    -   [\n        Fade in images with a placeholder\n        ](https://docs.flutter.dev/cookbook/images/fading-in-images)\n    -   [\n        Play and pause a video\n        ](https://docs.flutter.dev/cookbook/plugins/play-video)\n    -   [\n        Transform assets at build time\n        ](https://docs.flutter.dev/ui/assets/asset-transformation)\n-   alt\\_routeNavigation & routing\n    expand\\_more\n    -   [\n        Overview\n        ](https://docs.flutter.dev/ui/navigation)\n    -   [\n        Add tabs to your app\n        ](https://docs.flutter.dev/cookbook/design/tabs)\n    -   [\n        Navigate to a new screen and back\n        ](https://docs.flutter.dev/cookbook/navigation/navigation-basics)\n    -   [\n        Send data to a new screen\n        ](https://docs.flutter.dev/cookbook/navigation/passing-data)\n    -   [\n        Return data from a screen\n        ](https://docs.flutter.dev/cookbook/navigation/returning-data)\n    -   [\n        Add a drawer to a screen\n        ](https://docs.flutter.dev/cookbook/design/drawer)\n    -   [\n        Set up deep linking\n        ](https://docs.flutter.dev/ui/navigation/deep-linking)\n    -   [\n        Set up app links for Android\n        ](https://docs.flutter.dev/cookbook/navigation/set-up-app-links)\n    -   [\n        Set up universal links for iOS\n        ](https://docs.flutter.dev/cookbook/navigation/set-up-universal-links)\n    -   [\n        Configure web URL strategies\n        ](https://docs.flutter.dev/ui/navigation/url-strategies)\n-   animationAnimations & transitions\n    expand\\_more\n    -   [\n        Introduction\n        ](https://docs.flutter.dev/ui/animations)\n    -   [\n        Tutorial\n        ](https://docs.flutter.dev/ui/animations/tutorial)\n    -   [\n        Implicit animations\n        ](https://docs.flutter.dev/ui/animations/implicit-animations)\n    -   [\n        Animate the properties of a container\n        ](https://docs.flutter.dev/cookbook/animation/animated-container)\n    -   [\n        Fade a widget in and out\n        ](https://docs.flutter.dev/cookbook/animation/opacity-animation)\n    -   [\n        Hero animations\n        ](https://docs.flutter.dev/ui/animations/hero-animations)\n    -   [\n        Animate a page route transition\n        ](https://docs.flutter.dev/cookbook/animation/page-route-animation)\n    -   [\n        Animate using a physics simulation\n        ](https://docs.flutter.dev/cookbook/animation/physics-simulation)\n    -   [\n        Staggered animations\n        ](https://docs.flutter.dev/ui/animations/staggered-animations)\n    -   [\n        Create a staggered menu animation\n        ](https://docs.flutter.dev/cookbook/effects/staggered-menu-animation)\n    -   [\n        API overview\n        ](https://docs.flutter.dev/ui/animations/overview)\n-   accessibilityAccessibility\n    expand\\_more\n    -   [\n        Introduction\n        ](https://docs.flutter.dev/ui/accessibility)\n    -   [\n        UI design & styling\n        ](https://docs.flutter.dev/ui/accessibility/ui-design-and-styling)\n    -   [\n        Assistive technologies\n        ](https://docs.flutter.dev/ui/accessibility/assistive-technologies)\n    -   [\n        Accessibility testing\n        ](https://docs.flutter.dev/ui/accessibility/accessibility-testing)\n    -   [\n        Web accessibility\n        ](https://docs.flutter.dev/ui/accessibility/web-accessibility)\n-   [\n    translateInternationalization\n    ](https://docs.flutter.dev/ui/internationalization)\n-   Beyond UI\n-   storageData & backend\n    expand\\_more\n    -   State management\n        expand\\_more\n        -   [\n            Introduction\n            ](https://docs.flutter.dev/data-and-backend/state-mgmt/intro)\n        -   [\n            Think declaratively\n            ](https://docs.flutter.dev/data-and-backend/state-mgmt/declarative)\n        -   [\n            Ephemeral vs app state\n            ](https://docs.flutter.dev/data-and-backend/state-mgmt/ephemeral-vs-app)\n        -   [\n            Simple app state management\n            ](https://docs.flutter.dev/data-and-backend/state-mgmt/simple)\n        -   [\n            Options\n            ](https://docs.flutter.dev/data-and-backend/state-mgmt/options)\n    -   Networking & http\n        expand\\_more\n        -   [\n            Overview\n            ](https://docs.flutter.dev/data-and-backend/networking)\n        -   [\n            Fetch data from the internet\n            ](https://docs.flutter.dev/cookbook/networking/fetch-data)\n        -   [\n            Make authenticated requests\n            ](https://docs.flutter.dev/cookbook/networking/authenticated-requests)\n        -   [\n            Send data to the internet\n            ](https://docs.flutter.dev/cookbook/networking/send-data)\n        -   [\n            Update data over the internet\n            ](https://docs.flutter.dev/cookbook/networking/update-data)\n        -   [\n            Delete data on the internet\n            ](https://docs.flutter.dev/cookbook/networking/delete-data)\n        -   [\n            Communicate with WebSockets\n            ](https://docs.flutter.dev/cookbook/networking/web-sockets)\n    -   Serialization\n        expand\\_more\n        -   [\n            JSON serialization\n            ](https://docs.flutter.dev/data-and-backend/serialization/json)\n        -   [\n            Parse JSON in the background\n            ](https://docs.flutter.dev/cookbook/networking/background-parsing)\n    -   Persistence\n        expand\\_more\n        -   [\n            Store key-value data on disk\n            ](https://docs.flutter.dev/cookbook/persistence/key-value)\n        -   [\n            Read and write files\n            ](https://docs.flutter.dev/cookbook/persistence/reading-writing-files)\n        -   [\n            Persist data with SQLite\n            ](https://docs.flutter.dev/cookbook/persistence/sqlite)\n    -   Firebase\n        expand\\_more\n        -   [\n            Overview\n            ](https://docs.flutter.dev/data-and-backend/firebase)\n        -   [\n            Add Firebase to your Flutter appopen\\_in\\_new\n            ](https://firebase.google.com/docs/flutter/setup)\n    -   [\n        Google APIs\n        ](https://docs.flutter.dev/data-and-backend/google-apis)\n-   account\\_treeApp architecture\n    expand\\_more\n    -   [\n        Introduction\n        ](https://docs.flutter.dev/app-architecture)\n    -   [\n        Architecture concepts\n        ](https://docs.flutter.dev/app-architecture/concepts)\n    -   [\n        Guide to app architecture\n        ](https://docs.flutter.dev/app-architecture/guide)\n    -   Architecture case study\n        expand\\_more\n        -   [\n            Overview\n            ](https://docs.flutter.dev/app-architecture/case-study)\n        -   [\n            UI layer\n            ](https://docs.flutter.dev/app-architecture/case-study/ui-layer)\n        -   [\n            Data layer\n            ](https://docs.flutter.dev/app-architecture/case-study/data-layer)\n        -   [\n            Dependency injection\n            ](https://docs.flutter.dev/app-architecture/case-study/dependency-injection)\n        -   [\n            Testing each layer\n            ](https://docs.flutter.dev/app-architecture/case-study/testing)\n    -   [\n        Recommendations\n        ](https://docs.flutter.dev/app-architecture/recommendations)\n    -   [\n        Design patterns\n        ](https://docs.flutter.dev/app-architecture/design-patterns)\n-   integration\\_instructionsPlatform integration\n    expand\\_more\n    -   [\n        Supported platforms\n        ](https://docs.flutter.dev/reference/supported-platforms)\n    -   [\n        Build desktop apps with Flutter\n        ](https://docs.flutter.dev/platform-integration/desktop)\n    -   [\n        Write platform-specific code\n        ](https://docs.flutter.dev/platform-integration/platform-channels)\n    -   [\n        Bind to native code\n        ](https://docs.flutter.dev/platform-integration/bind-native-code)\n    -   Android\n        expand\\_more\n        -   [\n            Set up Android development\n            ](https://docs.flutter.dev/platform-integration/android/setup)\n        -   [\n            Add a splash screen\n            ](https://docs.flutter.dev/platform-integration/android/splash-screen)\n        -   [\n            Add predictive back\n            ](https://docs.flutter.dev/platform-integration/android/predictive-back)\n        -   [\n            Host a native Android view\n            ](https://docs.flutter.dev/platform-integration/android/platform-views)\n        -   [\n            Calling JetPack APIs\n            ](https://docs.flutter.dev/platform-integration/android/call-jetpack-apis)\n        -   [\n            Launch a Jetpack Compose activity\n            ](https://docs.flutter.dev/platform-integration/android/compose-activity)\n        -   [\n            Restore state on Android\n            ](https://docs.flutter.dev/platform-integration/android/restore-state-android)\n        -   [\n            Target ChromeOS with Android\n            ](https://docs.flutter.dev/platform-integration/android/chromeos)\n        -   [\n            Protect your app's sensitive content\n            ](https://docs.flutter.dev/platform-integration/android/sensitive-content)\n    -   iOS\n        expand\\_more\n        -   [\n            Set up iOS development\n            ](https://docs.flutter.dev/platform-integration/ios/setup)\n        -   [\n            Flutter on latest iOS\n            ](https://docs.flutter.dev/platform-integration/ios/ios-latest)\n        -   [\n            Leverage Apple's system libraries\n            ](https://docs.flutter.dev/platform-integration/ios/apple-frameworks)\n        -   [\n            Add a launch screen\n            ](https://docs.flutter.dev/platform-integration/ios/launch-screen)\n        -   [\n            Add iOS App Clip support\n            ](https://docs.flutter.dev/platform-integration/ios/ios-app-clip)\n        -   [\n            Add iOS app extensions\n            ](https://docs.flutter.dev/platform-integration/ios/app-extensions)\n        -   [\n            Host a native iOS view\n            ](https://docs.flutter.dev/platform-integration/ios/platform-views)\n        -   [\n            Enable debugging on iOS\n            ](https://docs.flutter.dev/platform-integration/ios/ios-debugging)\n        -   [\n            Restore state on iOS\n            ](https://docs.flutter.dev/platform-integration/ios/restore-state-ios)\n    -   Linux\n        expand\\_more\n        -   [\n            Set up Linux development\n            ](https://docs.flutter.dev/platform-integration/linux/setup)\n        -   [\n            Build a Linux app\n            ](https://docs.flutter.dev/platform-integration/linux/building)\n    -   macOS\n        expand\\_more\n        -   [\n            Set up macOS development\n            ](https://docs.flutter.dev/platform-integration/macos/setup)\n        -   [\n            Build a macOS app\n            ](https://docs.flutter.dev/platform-integration/macos/building)\n        -   [\n            Host a native macOS view\n            ](https://docs.flutter.dev/platform-integration/macos/platform-views)\n    -   Web\n        expand\\_more\n        -   [\n            Web support in Flutter\n            ](https://docs.flutter.dev/platform-integration/web)\n        -   [\n            Set up web development\n            ](https://docs.flutter.dev/platform-integration/web/setup)\n        -   [\n            Set up a configuration file\n            ](https://docs.flutter.dev/platform-integration/web/web-dev-config-file)\n        -   [\n            Build a web app\n            ](https://docs.flutter.dev/platform-integration/web/building)\n        -   [\n            Compile to WebAssembly\n            ](https://docs.flutter.dev/platform-integration/web/wasm)\n        -   [\n            Customize app initialization\n            ](https://docs.flutter.dev/platform-integration/web/initialization)\n        -   [\n            Add Flutter to any web app\n            ](https://docs.flutter.dev/platform-integration/web/embedding-flutter-web)\n        -   [\n            Web content in Flutter\n            ](https://docs.flutter.dev/platform-integration/web/web-content-in-flutter)\n        -   [\n            Web renderers\n            ](https://docs.flutter.dev/platform-integration/web/renderers)\n        -   [\n            Display images on the web\n            ](https://docs.flutter.dev/platform-integration/web/web-images)\n        -   [\n            Web FAQ\n            ](https://docs.flutter.dev/platform-integration/web/faq)\n    -   Windows\n        expand\\_more\n        -   [\n            Set up Windows development\n            ](https://docs.flutter.dev/platform-integration/windows/setup)\n        -   [\n            Build a Windows app\n            ](https://docs.flutter.dev/platform-integration/windows/building)\n-   extensionPackages & plugins\n    expand\\_more\n    -   [\n        Use packages & plugins\n        ](https://docs.flutter.dev/packages-and-plugins/using-packages)\n    -   [\n        Develop packages & plugins\n        ](https://docs.flutter.dev/packages-and-plugins/developing-packages)\n    -   Swift Package Manager\n        expand\\_more\n        -   [\n            For app developers\n            ](https://docs.flutter.dev/packages-and-plugins/swift-package-manager/for-app-developers)\n        -   [\n            For plugin authors\n            ](https://docs.flutter.dev/packages-and-plugins/swift-package-manager/for-plugin-authors)\n    -   [\n        Flutter Favorites\n        ](https://docs.flutter.dev/packages-and-plugins/favorites)\n    -   [\n        Package repositoryopen\\_in\\_new\n        ](https://pub.dev/flutter)\n-   bug\\_reportTesting & debugging\n    expand\\_more\n    -   Testing\n    -   [\n        Overview\n        ](https://docs.flutter.dev/testing/overview)\n    -   Unit testing\n        expand\\_more\n        -   [\n            Introduction\n            ](https://docs.flutter.dev/cookbook/testing/unit/introduction)\n        -   [\n            Mock dependencies\n            ](https://docs.flutter.dev/cookbook/testing/unit/mocking)\n    -   Widget testing\n        expand\\_more\n        -   [\n            Introduction\n            ](https://docs.flutter.dev/cookbook/testing/widget/introduction)\n        -   [\n            Find widgets\n            ](https://docs.flutter.dev/cookbook/testing/widget/finders)\n        -   [\n            Simulate scrolling\n            ](https://docs.flutter.dev/cookbook/testing/widget/scrolling)\n        -   [\n            Simulate user interaction\n            ](https://docs.flutter.dev/cookbook/testing/widget/tap-drag)\n    -   Integration testing\n        expand\\_more\n        -   [\n            Introduction\n            ](https://docs.flutter.dev/cookbook/testing/integration/introduction)\n        -   [\n            Write and run an integration test\n            ](https://docs.flutter.dev/testing/integration-tests)\n        -   [\n            Profile an integration test\n            ](https://docs.flutter.dev/cookbook/testing/integration/profiling)\n    -   [\n        Test a plugin\n        ](https://docs.flutter.dev/testing/testing-plugins)\n    -   [\n        Handle plugin code in tests\n        ](https://docs.flutter.dev/testing/plugins-in-tests)\n    -   Debugging\n    -   [\n        Debugging tools\n        ](https://docs.flutter.dev/testing/debugging)\n    -   [\n        Debug your app programmatically\n        ](https://docs.flutter.dev/testing/code-debugging)\n    -   [\n        Use a native language debugger\n        ](https://docs.flutter.dev/testing/native-debugging)\n    -   [\n        Common Flutter errors\n        ](https://docs.flutter.dev/testing/common-errors)\n    -   [\n        Handle errors\n        ](https://docs.flutter.dev/testing/errors)\n    -   [\n        Report errors to a service\n        ](https://docs.flutter.dev/cookbook/maintenance/error-reporting)\n-   speedPerformance & optimization\n    expand\\_more\n    -   [\n        Overview\n        ](https://docs.flutter.dev/perf)\n    -   [\n        Impeller\n        ](https://docs.flutter.dev/perf/impeller)\n    -   [\n        Performance best practices\n        ](https://docs.flutter.dev/perf/best-practices)\n    -   [\n        App size\n        ](https://docs.flutter.dev/perf/app-size)\n    -   [\n        Deferred components\n        ](https://docs.flutter.dev/perf/deferred-components)\n    -   [\n        Rendering performance\n        ](https://docs.flutter.dev/perf/rendering-performance)\n    -   [\n        Performance profiling\n        ](https://docs.flutter.dev/perf/ui-performance)\n    -   [\n        Performance profiling for web\n        ](https://docs.flutter.dev/perf/web-performance)\n    -   [\n        Performance metrics\n        ](https://docs.flutter.dev/perf/metrics)\n    -   [\n        Concurrency and isolates\n        ](https://docs.flutter.dev/perf/isolates)\n    -   [\n        Performance FAQ\n        ](https://docs.flutter.dev/perf/faq)\n    -   [\n        Appendix\n        ](https://docs.flutter.dev/perf/appendix)\n-   rocket\\_launchDeployment\n    expand\\_more\n    -   [\n        Obfuscate Dart code\n        ](https://docs.flutter.dev/deployment/obfuscate)\n    -   [\n        Create app flavors for Android\n        ](https://docs.flutter.dev/deployment/flavors)\n    -   [\n        Create app flavors for iOS and macOS\n        ](https://docs.flutter.dev/deployment/flavors-ios)\n    -   [\n        Build and release an Android app\n        ](https://docs.flutter.dev/deployment/android)\n    -   [\n        Build and release an iOS app\n        ](https://docs.flutter.dev/deployment/ios)\n    -   [\n        Build and release a macOS app\n        ](https://docs.flutter.dev/deployment/macos)\n    -   [\n        Build and release a Linux app\n        ](https://docs.flutter.dev/deployment/linux)\n    -   [\n        Build and release a Windows app\n        ](https://docs.flutter.dev/deployment/windows)\n    -   [\n        Build and release a web app\n        ](https://docs.flutter.dev/deployment/web)\n    -   [\n        Set up continuous deployment\n        ](https://docs.flutter.dev/deployment/cd)\n-   add\\_circleAdd to an existing app\n    expand\\_more\n    -   [\n        Introduction\n        ](https://docs.flutter.dev/add-to-app)\n    -   Add to an Android app\n        expand\\_more\n        -   [\n            Set up Android project\n            ](https://docs.flutter.dev/add-to-app/android/project-setup)\n        -   [\n            Add a single Flutter screen\n            ](https://docs.flutter.dev/add-to-app/android/add-flutter-screen)\n        -   [\n            Add a Flutter Fragment\n            ](https://docs.flutter.dev/add-to-app/android/add-flutter-fragment)\n        -   [\n            Add a Flutter View\n            ](https://docs.flutter.dev/add-to-app/android/add-flutter-view)\n        -   [\n            Use a Flutter plugin\n            ](https://docs.flutter.dev/add-to-app/android/plugin-setup)\n    -   Add to an iOS app\n        expand\\_more\n        -   [\n            Set up iOS project\n            ](https://docs.flutter.dev/add-to-app/ios/project-setup)\n        -   [\n            Add a single Flutter screen\n            ](https://docs.flutter.dev/add-to-app/ios/add-flutter-screen)\n    -   [\n        Add to a web app\n        ](https://docs.flutter.dev/platform-integration/web/embedding-flutter-web)\n    -   [\n        Debug embedded Flutter module\n        ](https://docs.flutter.dev/add-to-app/debugging)\n    -   [\n        Add multiple Flutter instances\n        ](https://docs.flutter.dev/add-to-app/multiple-flutters)\n    -   [\n        Loading sequence and performance\n        ](https://docs.flutter.dev/add-to-app/performance)\n-   Resources\n-   constructionTools & editors\n    expand\\_more\n    -   [\n        Android Studio & IntelliJ\n        ](https://docs.flutter.dev/tools/android-studio)\n    -   [\n        Visual Studio Code\n        ](https://docs.flutter.dev/tools/vs-code)\n    -   DevTools\n        expand\\_more\n        -   [\n            Overview\n            ](https://docs.flutter.dev/tools/devtools)\n        -   [\n            Run from Android Studio & IntelliJ\n            ](https://docs.flutter.dev/tools/devtools/android-studio)\n        -   [\n            Run from VS Code\n            ](https://docs.flutter.dev/tools/devtools/vscode)\n        -   [\n            Run from command line\n            ](https://docs.flutter.dev/tools/devtools/cli)\n        -   [\n            Flutter inspector\n            ](https://docs.flutter.dev/tools/devtools/inspector)\n        -   [\n            Legacy Flutter inspector\n            ](https://docs.flutter.dev/tools/devtools/legacy-inspector)\n        -   [\n            Performance view\n            ](https://docs.flutter.dev/tools/devtools/performance)\n        -   [\n            CPU Profiler view\n            ](https://docs.flutter.dev/tools/devtools/cpu-profiler)\n        -   [\n            Memory view\n            ](https://docs.flutter.dev/tools/devtools/memory)\n        -   [\n            Debug console view\n            ](https://docs.flutter.dev/tools/devtools/console)\n        -   [\n            Network view\n            ](https://docs.flutter.dev/tools/devtools/network)\n        -   [\n            Debugger\n            ](https://docs.flutter.dev/tools/devtools/debugger)\n        -   [\n            Logging view\n            ](https://docs.flutter.dev/tools/devtools/logging)\n        -   [\n            App size tool\n            ](https://docs.flutter.dev/tools/devtools/app-size)\n        -   [\n            DevTools extensions\n            ](https://docs.flutter.dev/tools/devtools/extensions)\n        -   [\n            Validate deep links\n            ](https://docs.flutter.dev/tools/devtools/deep-links)\n        -   [\n            Release notes\n            ](https://docs.flutter.dev/tools/devtools/release-notes)\n    -   [\n        Flutter Widget Previewer\n        ](https://docs.flutter.dev/tools/widget-previewer)\n    -   [\n        Flutter Property Editor\n        ](https://docs.flutter.dev/tools/property-editor)\n    -   [\n        SDK overview\n        ](https://docs.flutter.dev/tools/sdk)\n    -   [\n        Flutter's pubspec options\n        ](https://docs.flutter.dev/tools/pubspec)\n    -   [\n        Automated fixes\n        ](https://docs.flutter.dev/tools/flutter-fix)\n    -   [\n        Code formatting\n        ](https://docs.flutter.dev/tools/formatting)\n-   lightbulbFlutter concepts\n    expand\\_more\n    -   [\n        Architectural overview\n        ](https://docs.flutter.dev/resources/architectural-overview)\n    -   [\n        Inside Flutter\n        ](https://docs.flutter.dev/resources/inside-flutter)\n    -   [\n        Understanding constraints\n        ](https://docs.flutter.dev/ui/layout/constraints)\n    -   [\n        Flutter's build modes\n        ](https://docs.flutter.dev/testing/build-modes)\n    -   [\n        Hot reload\n        ](https://docs.flutter.dev/tools/hot-reload)\n-   appsApp solutions\n    expand\\_more\n    -   Develop with Firebase\n        expand\\_more\n        -   [\n            Overview\n            ](https://docs.flutter.dev/data-and-backend/firebase)\n        -   [\n            Discover Firebase for Flutteropen\\_in\\_new\n            ](https://firebase.google.com/docs/flutter)\n        -   [\n            Get to know Firebase for Flutteropen\\_in\\_new\n            ](https://www.youtube.com/watch?v=wUSkeTaBonA)\n        -   [\n            Add a user authentication flow to a Flutter app using FirebaseUIopen\\_in\\_new\n            ](https://firebase.google.com/codelabs/firebase-auth-in-flutter-apps)\n        -   [\n            Get to know Firebase for webopen\\_in\\_new\n            ](https://firebase.google.com/codelabs/firebase-get-to-know-web)\n    -   Build multi-platform games\n        expand\\_more\n        -   [\n            Overview\n            ](https://docs.flutter.dev/resources/games-toolkit)\n        -   [\n            Add achievements and leaderboards\n            ](https://docs.flutter.dev/cookbook/games/achievements-leaderboard)\n        -   [\n            Build leaderboards with Firestoreopen\\_in\\_new\n            ](https://firebase.google.com/codelabs/build-leaderboards-with-firestore#0)\n        -   [\n            Add advertising\n            ](https://docs.flutter.dev/cookbook/plugins/google-mobile-ads)\n        -   [\n            Add multiplayer support\n            ](https://docs.flutter.dev/cookbook/games/firestore-multiplayer)\n        -   [\n            Add in-app purchasesopen\\_in\\_new\n            ](https://codelabs.developers.google.com/codelabs/flutter-in-app-purchases)\n        -   [\n            Add user authenticationopen\\_in\\_new\n            ](https://firebase.google.com/codelabs/firebase-auth-in-flutter-apps)\n        -   [\n            Debug using Crashlyticsopen\\_in\\_new\n            ](https://firebase.google.com/docs/crashlytics/get-started?platform=flutter)\n        -   [\n            Intro to Flame with Flutteropen\\_in\\_new\n            ](https://codelabs.developers.google.com/codelabs/flutter-flame-brick-breaker)\n    -   Monetize your app\n        expand\\_more\n        -   Integrate ads\n            expand\\_more\n            -   [\n                Ads overview\n                ](https://docs.flutter.dev/resources/ads-overview)\n            -   [\n                Add advertising\n                ](https://docs.flutter.dev/cookbook/plugins/google-mobile-ads)\n            -   [\n                Add AdMob ads to your Flutter appopen\\_in\\_new\n                ](https://codelabs.developers.google.com/codelabs/admob-ads-in-flutter)\n            -   [\n                Add an AdMob banner and native inline adsopen\\_in\\_new\n                ](https://codelabs.developers.google.com/codelabs/admob-inline-ads-in-flutter)\n            -   [\n                Integrate multimedia ads (video)open\\_in\\_new\n                ](https://www.youtube.com/watch?v=U8x5n6RwZOo)\n            -   [\n                Google AdMob mediationopen\\_in\\_new\n                ](https://developers.google.com/admob/flutter/mediation)\n            -   [\n                Interactive Media Ads SDKopen\\_in\\_new\n                ](https://pub.dev/packages/interactive_media_ads)\n        -   Support payments\n            expand\\_more\n            -   [\n                Payments overview\n                ](https://docs.flutter.dev/resources/payments-overview)\n            -   [\n                Google pay packageopen\\_in\\_new\n                ](https://pub.dev/packages/pay)\n        -   [\n            Add in-app purchasesopen\\_in\\_new\n            ](https://codelabs.developers.google.com/codelabs/flutter-in-app-purchases)\n    -   Integrate maps\n        expand\\_more\n        -   [\n            Add Google maps to a Flutter appopen\\_in\\_new\n            ](https://codelabs.developers.google.com/codelabs/google-maps-in-flutter)\n        -   [\n            Google Maps packageopen\\_in\\_new\n            ](https://developers.google.com/maps/flutter-package)\n    -   AI solutions\n        expand\\_more\n        -   [\n            Create with AI\n            ](https://docs.flutter.dev/ai/create-with-ai)\n        -   [\n            Rules for AI\n            ](https://docs.flutter.dev/ai/ai-rules)\n        -   AI best practices\n            expand\\_more\n            -   [\n                Overview\n                ](https://docs.flutter.dev/ai/best-practices)\n            -   [\n                Prompting\n                ](https://docs.flutter.dev/ai/best-practices/prompting)\n            -   [\n                Structure & output\n                ](https://docs.flutter.dev/ai/best-practices/structure-output)\n            -   [\n                Tool calls (aka function calls)\n                ](https://docs.flutter.dev/ai/best-practices/tool-calls)\n            -   [\n                Mode of interaction\n                ](https://docs.flutter.dev/ai/best-practices/mode-of-interaction)\n            -   [\n                Developer experience\n                ](https://docs.flutter.dev/ai/best-practices/developer-experience)\n        -   AI Toolkit\n            expand\\_more\n            -   [\n                Overview\n                ](https://docs.flutter.dev/ai/ai-toolkit)\n            -   [\n                User experience\n                ](https://docs.flutter.dev/ai/ai-toolkit/user-experience)\n            -   [\n                Feature integration\n                ](https://docs.flutter.dev/ai/ai-toolkit/feature-integration)\n            -   [\n                Custom LLM providers\n                ](https://docs.flutter.dev/ai/ai-toolkit/custom-llm-providers)\n            -   [\n                Chat client sample\n                ](https://docs.flutter.dev/ai/ai-toolkit/chat-client-sample)\n        -   GenUI SDK for Flutter\n            expand\\_more\n            -   [\n                Overview\n                ](https://docs.flutter.dev/ai/genui)\n            -   [\n                Main components & concepts\n                ](https://docs.flutter.dev/ai/genui/components)\n            -   [\n                Get started\n                ](https://docs.flutter.dev/ai/genui/get-started)\n            -   [\n                Input and events\n                ](https://docs.flutter.dev/ai/genui/input-events)\n        -   [\n            Dart & Flutter MCP server\n            ](https://docs.flutter.dev/ai/mcp-server)\n        -   [\n            Flutter extension for Gemini CLI\n            ](https://docs.flutter.dev/ai/gemini-cli-extension)\n        -   [\n            Firebase AI Logicopen\\_in\\_new\n            ](https://firebase.google.com/docs/ai-logic/get-started?platform=flutter)\n-   devicesFrom another platform?\n    expand\\_more\n    -   [\n        Flutter for Android devs\n        ](https://docs.flutter.dev/flutter-for/android-devs)\n    -   [\n        Flutter for Jetpack Compose devs\n        ](https://docs.flutter.dev/flutter-for/compose-devs)\n    -   [\n        Flutter for SwiftUI devs\n        ](https://docs.flutter.dev/flutter-for/swiftui-devs)\n    -   [\n        Flutter for UIKit devs\n        ](https://docs.flutter.dev/flutter-for/uikit-devs)\n    -   [\n        Flutter for React Native devs\n        ](https://docs.flutter.dev/flutter-for/react-native-devs)\n    -   [\n        Flutter for web devs\n        ](https://docs.flutter.dev/flutter-for/web-devs)\n    -   [\n        Flutter for Xamarin.Forms devs\n        ](https://docs.flutter.dev/flutter-for/xamarin-forms-devs)\n    -   [\n        Introduction to declarative UI\n        ](https://docs.flutter.dev/flutter-for/declarative)\n    -   [\n        Flutter versus Swift concurrency\n        ](https://docs.flutter.dev/flutter-for/dart-swift-concurrency)\n-   updateStay up to date\n    expand\\_more\n    -   [\n        Release notes\n        ](https://docs.flutter.dev/release/release-notes)\n    -   [\n        Breaking changes\n        ](https://docs.flutter.dev/release/breaking-changes)\n    -   [\n        Compatibility policy\n        ](https://docs.flutter.dev/release/compatibility-policy)\n    -   [\n        Flutter blogopen\\_in\\_new\n        ](https://blog.flutter.dev)\n    -   [\n        What's new in the docs\n        ](https://docs.flutter.dev/release/whats-new)\n-   computerManage install\n    expand\\_more\n    -   [\n        SDK archive\n        ](https://docs.flutter.dev/install/archive)\n    -   [\n        Upgrade SDK\n        ](https://docs.flutter.dev/install/upgrade)\n    -   [\n        Add to path\n        ](https://docs.flutter.dev/install/add-to-path)\n    -   [\n        Troubleshoot\n        ](https://docs.flutter.dev/install/troubleshoot)\n    -   [\n        Uninstall SDK\n        ](https://docs.flutter.dev/install/uninstall)\n-   library\\_booksResources\n    expand\\_more\n    -   [\n        FAQ\n        ](https://docs.flutter.dev/resources/faq)\n    -   [\n        Videos\n        ](https://docs.flutter.dev/resources/videos)\n    -   [\n        Courses\n        ](https://docs.flutter.dev/resources/courses)\n    -   [\n        Glossary\n        ](https://docs.flutter.dev/resources/glossary)\n    -   [\n        Get support\n        ](https://docs.flutter.dev/resources/support)\n    -   Contribute\n        expand\\_more\n        -   [\n            Contribute to Flutter\n            ](https://docs.flutter.dev/contribute)\n        -   [\n            Create useful bug reports\n            ](https://docs.flutter.dev/resources/bug-reports)\n        -   [\n            Discover proposed features\n            ](https://docs.flutter.dev/resources/design-docs)\n    -   Reference\n        expand\\_more\n        -   [\n            Who is Dash?\n            ](https://docs.flutter.dev/dash)\n        -   [\n            Widget index\n            ](https://docs.flutter.dev/reference/widgets)\n        -   [\n            Create a new app\n            ](https://docs.flutter.dev/reference/create-new-app)\n        -   [\n            flutter CLI\n            ](https://docs.flutter.dev/reference/flutter-cli)\n        -   [\n            API docsopen\\_in\\_new\n            ](https://api.flutter.dev)\nlist On this pagechevron\\_right Performance best practices\n[vertical\\_align\\_top Performance best practices](#site-content-title)\n-   [Minimize expensive operations](#minimize-expensive-operations)\n    -   [Control build() cost](#control-build-cost)\n    -   [Use StringBuffer for efficient string building](#use-stringbuffer-for-efficient-string-building)\n    -   [Use saveLayer() thoughtfully](#use-savelayer-thoughtfully)\n    -   [Minimize use of opacity and clipping](#minimize-use-of-opacity-and-clipping)\n    -   [Implement grids and lists thoughtfully](#implement-grids-and-lists-thoughtfully)\n    -   [Minimize layout passes caused by intrinsic operations](#minimize-layout-passes-caused-by-intrinsic-operations)\n    -   [Build and display frames in 16ms](#build-and-display-frames-in-16ms)\n-   [Pitfalls](#pitfalls)\n-   [Resources](#resources)\nCheck out our newly published best practices for [building AI-powered apps with Flutter!](https://docs.flutter.dev/ai/best-practices)\nlist On this page\n-   [Minimize expensive operations](#minimize-expensive-operations)\n    -   [Control build() cost](#control-build-cost)\n    -   [Use StringBuffer for efficient string building](#use-stringbuffer-for-efficient-string-building)\n    -   [Use saveLayer() thoughtfully](#use-savelayer-thoughtfully)\n    -   [Minimize use of opacity and clipping](#minimize-use-of-opacity-and-clipping)\n    -   [Implement grids and lists thoughtfully](#implement-grids-and-lists-thoughtfully)\n    -   [Minimize layout passes caused by intrinsic operations](#minimize-layout-passes-caused-by-intrinsic-operations)\n    -   [Build and display frames in 16ms](#build-and-display-frames-in-16ms)\n-   [Pitfalls](#pitfalls)\n-   [Resources](#resources)\n1.  [Performance](https://docs.flutter.dev/perf)chevron\\_right\n2.  [Best practices](https://docs.flutter.dev/perf/best-practices)\n# Performance best practices\nHow to ensure that your Flutter app is performant.\nmore\\_vert\n-   copyCopy link\n-   [docsView source](https://github.com/flutter/website/blob/main/src/content/perf/best-practices.md)\n-   [bug\\_reportReport issue](https://github.com/flutter/website/issues/new?template=1_page_issue.yml&page-url=https://docs.flutter.dev/perf/best-practices&page-source=https://github.com/flutter/website/blob/main/src/content/perf/best-practices.md)\ninfoNote\nTo learn how to use the **Performance View** (part of Flutter DevTools) for debugging performance issues, see [Using the Performance view](https://docs.flutter.dev/tools/devtools/performance).\nGenerally, Flutter applications are performant by default, so you only need to avoid common pitfalls to get excellent performance. These best practice recommendations will help you write the most performant Flutter app possible.\ninfoNote\nIf you are writing web apps in Flutter, you might be interested in a series of articles, written by the Flutter Material team, after they modified the [Flutter Gallery](https://flutter-gallery-archive.web.app) app to make it more performant on the web:\n-   [Optimizing performance in Flutter web apps with tree shaking and deferred loading](https://blog.flutter.dev/optimizing-performance-in-flutter-web-apps-with-tree-shaking-and-deferred-loading-535fbe3cd674)\n-   [Improving perceived performance with image placeholders, precaching, and disabled navigation transitions](https://blog.flutter.dev/improving-perceived-performance-with-image-placeholders-precaching-and-disabled-navigation-6b3601087a2b)\n-   [Building performant Flutter widgets](https://blog.flutter.dev/building-performant-flutter-widgets-3b2558aa08fa)\nHow do you design a Flutter app to most efficiently render your scenes? In particular, how do you ensure that the painting code generated by the framework is as efficient as possible? Some rendering and layout operations are known to be slow, but can't always be avoided. They should be used thoughtfully, following the guidance below.\n## Minimize expensive operations\n[#](#minimize-expensive-operations)\nSome operations are more expensive than others, meaning that they consume more resources. Obviously, you want to only use these operations when necessary. How you design and implement your app's UI can have a big impact on how efficiently it runs.\n### Control build() cost\n[#](#control-build-cost)\nHere are some things to keep in mind when designing your UI:\n-   Avoid repetitive and costly work in `build()` methods since `build()` can be invoked frequently when ancestor widgets rebuild.\n-   Avoid overly large single widgets with a large `build()` function. Split them into different widgets based on encapsulation but also on how they change:\n    -   When `setState()` is called on a `State` object, all descendent widgets rebuild. Therefore, localize the `setState()` call to the part of the subtree whose UI actually needs to change. Avoid calling `setState()` high up in the tree if the change is contained to a small part of the tree.\n    -   The traversal to rebuild all descendents stops when the same instance of the child widget as the previous frame is re-encountered. This technique is heavily used inside the framework for optimizing animations where the animation doesn't affect the child subtree. See the [`TransitionBuilder`](https://api.flutter.dev/flutter/widgets/TransitionBuilder.html) pattern and the [source code for `SlideTransition`](https://github.com/flutter/flutter/blob/main/packages/flutter/lib/src/widgets/transitions.dart#L168), which uses this principle to avoid rebuilding its descendents when animating. (\"Same instance\" is evaluated using `operator ==`, but see the pitfalls section at the end of this page for advice on when to avoid overriding `operator ==`.)\n    -   Use `const` constructors on widgets as much as possible, since they allow Flutter to short-circuit most of the rebuild work. To be automatically reminded to use `const` when possible, enable the recommended lints from the [`flutter_lints`](https://pub.dev/packages/flutter_lints) package. For more information, check out the [`flutter_lints` migration guide](https://docs.flutter.dev/release/breaking-changes/flutter-lints-package#migration-guide).\n    -   To create reusable pieces of UIs, prefer using a [`StatelessWidget`](https://api.flutter.dev/flutter/widgets/StatelessWidget-class.html) rather than a function.\nFor more information, check out:\n-   [Performance considerations](https://api.flutter.dev/flutter/widgets/StatefulWidget-class.html#performance-considerations), part of the [`StatefulWidget`](https://api.flutter.dev/flutter/widgets/StatefulWidget-class.html) API doc\n-   [Widgets vs helper methods](https://www.youtube.com/watch?v=IOyq-eTRhvo), a video from the official Flutter YouTube channel that explains why widgets (especially widgets with `const` constructors) are more performant than functions.\n---\n### Use StringBuffer for efficient string building\n[#](#use-stringbuffer-for-efficient-string-building)\nWhen you need to build a string from multiple parts, especially inside a loop, using the `+` operator can be inefficient because it creates a new `String` object on each concatenation. A better approach is to use `StringBuffer`, which collects all the strings and concatenates them only once, when you call `toString()`.\n[Watch on YouTube in a new tab: \"StringBuffer (Technique of the Week)\"](https://www.youtube.com/watch/xSsFtDY-nOw)\n---\n### Use saveLayer() thoughtfully\n[#](#use-savelayer-thoughtfully)\nSome Flutter code uses `saveLayer()`, an expensive operation, to implement various visual effects in the UI. Even if your code doesn't explicitly call `saveLayer()`, other widgets or packages that you use might call it behind the scenes. Perhaps your app is calling `saveLayer()` more than necessary; excessive calls to `saveLayer()` can cause jank.\n#### Why is saveLayer expensive?\n[#](#why-is-savelayer-expensive)\nCalling `saveLayer()` allocates an offscreen buffer and drawing content into the offscreen buffer might trigger a render target switch. The GPU wants to run like a firehose, and a render target switch forces the GPU to redirect that stream temporarily and then direct it back again. On mobile GPUs this is particularly disruptive to rendering throughput.\n#### When is saveLayer required?\n[#](#when-is-savelayer-required)\nAt runtime, if you need to dynamically display various shapes coming from a server (for example), each with some transparency, that might (or might not) overlap, then you pretty much have to use `saveLayer()`.\n#### Debugging calls to saveLayer\n[#](#debugging-calls-to-savelayer)\nHow can you tell how often your app calls `saveLayer()`, either directly or indirectly? The `saveLayer()` method triggers an event on the [DevTools timeline](https://docs.flutter.dev/tools/devtools/performance#timeline-events-tab); learn when your scene uses `saveLayer` by checking the `PerformanceOverlayLayer.checkerboardOffscreenLayers` switch in the [DevTools Performance view](https://docs.flutter.dev/tools/devtools/performance).\n#### Minimizing calls to saveLayer\n[#](#minimizing-calls-to-savelayer)\nCan you avoid calls to `saveLayer`? It might require rethinking of how you create your visual effects:\n-   If the calls are coming from _your_ code, can you reduce or eliminate them? For example, perhaps your UI overlaps two shapes, each having non-zero transparency:\n    -   If they always overlap in the same amount, in the same way, with the same transparency, you can precalculate what this overlapped, semi-transparent object looks like, cache it, and use that instead of calling `saveLayer()`. This works with any static shape you can precalculate.\n    -   Can you refactor your painting logic to avoid overlaps altogether?\n-   If the calls are coming from a package that you don't own, contact the package owner and ask why these calls are necessary. Can they be reduced or eliminated? If not, you might need to find another package, or write your own.\ninfo Note to package owners\nAs a best practice, consider providing documentation for when `saveLayer` might be necessary for your package, how it might be avoided, and when it can't be avoided.\nOther widgets that might trigger `saveLayer()` and are potentially costly:\n-   [`ShaderMask`](https://api.flutter.dev/flutter/widgets/ShaderMask-class.html)\n-   [`ColorFilter`](https://api.flutter.dev/flutter/dart-ui/ColorFilter-class.html)\n-   [`Chip`](https://api.flutter.dev/flutter/material/Chip-class.html)might trigger a call to `saveLayer()` if `disabledColorAlpha != 0xff`\n-   [`Text`](https://api.flutter.dev/flutter/widgets/Text-class.html)might trigger a call to `saveLayer()` if there's an `overflowShader`\n---\n### Minimize use of opacity and clipping\n[#](#minimize-use-of-opacity-and-clipping)\nOpacity is another expensive operation, as is clipping. Here are some tips you might find to be useful:\n-   Use the [`Opacity`](https://api.flutter.dev/flutter/widgets/Opacity-class.html) widget only when necessary. See the [Transparent image](https://api.flutter.dev/flutter/widgets/Opacity-class.html#transparent-image) section in the `Opacity` API page for an example of applying opacity directly to an image, which is faster than using the `Opacity` widget.\n-   Instead of wrapping simple shapes or text in an `Opacity` widget, it's usually faster to just draw them with a semitransparent color. (Though this only works if there are no overlapping bits in the to-be-drawn shape.)\n-   To implement fading in an image, consider using the [`FadeInImage`](https://api.flutter.dev/flutter/widgets/FadeInImage-class.html) widget, which applies a gradual opacity using the GPU's fragment shader. For more information, check out the [`Opacity`](https://api.flutter.dev/flutter/widgets/Opacity-class.html) docs.\n-   **Clipping** doesn't call `saveLayer()` (unless explicitly requested with `Clip.antiAliasWithSaveLayer`), so these operations aren't as expensive as `Opacity`, but clipping is still costly, so use with caution. By default, clipping is disabled (`Clip.none`), so you must explicitly enable it when needed.\n-   To create a rectangle with rounded corners, instead of applying a clipping rectangle, consider using the `borderRadius` property offered by many of the widget classes.\n---\n### Implement grids and lists thoughtfully\n[#](#implement-grids-and-lists-thoughtfully)\nHow your grids and lists are implemented might be causing performance problems for your app. This section describes an important best practice when creating grids and lists, and how to determine whether your app uses excessive layout passes.\n#### Be lazy!\n[#](#be-lazy)\nWhen building a large grid or list, use the lazy builder methods, with callbacks. That ensures that only the visible portion of the screen is built at startup time.\nFor more information and examples, check out:\n-   [Working with long lists](https://docs.flutter.dev/cookbook/lists/long-lists)\n-   [Creating a `ListView` that loads one page at a time](https://medium.com/saugo360/flutter-creating-a-listview-that-loads-one-page-at-a-time-c5c91b6fabd3) a community article by AbdulRahman AlHamali\n-   [`ListView.builder`](https://api.flutter.dev/flutter/widgets/ListView/ListView.builder.html) API\n#### Avoid intrinsics\n[#](#avoid-intrinsics)\nFor information on how intrinsic passes might be causing problems with your grids and lists, see the next section.\n---\n### Minimize layout passes caused by intrinsic operations\n[#](#minimize-layout-passes-caused-by-intrinsic-operations)\nIf you've done much Flutter programming, you are probably familiar with [how layout and constraints work](https://docs.flutter.dev/ui/layout/constraints) when creating your UI. You might even have memorized Flutter's basic layout rule: **Constraints go down. Sizes go up. Parent sets position.**\nFor some widgets, particularly grids and lists, the layout process can be expensive. Flutter strives to perform just one layout pass over the widgets but, sometimes, a second pass (called an _intrinsic pass_) is needed, and that can slow performance.\n#### What is an intrinsic pass?\n[#](#what-is-an-intrinsic-pass)\nAn intrinsic pass happens when, for example, you want all cells to have the size of the biggest or smallest cell (or some similar calculation that requires polling all cells).\nFor example, consider a large grid of `Card`s. A grid should have uniformly sized cells, so the layout code performs a pass, starting from the root of the grid (in the widget tree), asking **each** card in the grid (not just the visible cards) to return its _intrinsic_ sizethe size that the widget prefers, assuming no constraints. With this information, the framework determines a uniform cell size, and re-visits all grid cells a second time, telling each card what size to use.\n#### Debugging intrinsic passes\n[#](#debugging-intrinsic-passes)\nTo determine whether you have excessive intrinsic passes, enable the **[Track layouts option](https://docs.flutter.dev/tools/devtools/performance#track-layouts)** in DevTools (disabled by default), and look at the app's [stack trace](https://docs.flutter.dev/tools/devtools/cpu-profiler#flame-chart) to learn how many layout passes were performed. Once you enable tracking, intrinsic timeline events are labeled as '$runtimeType intrinsics'.\n#### Avoiding intrinsic passes\n[#](#avoiding-intrinsic-passes)\nYou have a couple options for avoiding the intrinsic pass:\n-   Set the cells to a fixed size up front.\n-   Choose a particular cell to be the \"anchor\" cellall cells will be sized relative to this cell. Write a custom [`RenderObject`](https://api.flutter.dev/flutter/rendering/RenderObject-class.html) that positions the child anchor first and then lays out the other children around it.\nTo dive even deeper into how layout works, check out the [layout and rendering](https://docs.flutter.dev/resources/architectural-overview#layout-and-rendering) section in the [Flutter architectural overview](https://docs.flutter.dev/resources/architectural-overview).\n---\n### Build and display frames in 16ms\n[#](#build-and-display-frames-in-16ms)\nSince there are two separate threads for building and rendering, you have 16ms for building, and 16ms for rendering on a 60Hz display. If latency is a concern, build and display a frame in 16ms _or less_. Note that means built in 8ms or less, and rendered in 8ms or less, for a total of 16ms or less.\nIf your frames are rendering in well under 16ms total in [profile mode](https://docs.flutter.dev/testing/build-modes#profile), you likely don't have to worry about performance even if some performance pitfalls apply, but you should still aim to build and render a frame as fast as possible. Why?\n-   Lowering the frame render time below 16ms might not make a visual difference, but it **improves battery life** and thermal issues.\n-   It might run fine on your device, but consider performance for the lowest device you are targeting.\n-   As 120fps devices become more widely available, you'll want to render frames in under 8ms (total) in order to provide the smoothest experience.\nIf you are wondering why 60fps leads to a smooth visual experience, check out the video [Why 60fps?](https://www.youtube.com/watch?v=CaMTIgxCSqU)\n## Pitfalls\n[#](#pitfalls)\nIf you need to tune your app's performance, or perhaps the UI isn't as smooth as you expect, the [DevTools Performance view](https://docs.flutter.dev/tools/devtools/performance) can help!\nAlso, the Flutter plugin for your IDE might be useful. In the Flutter Performance window, enable the **Show widget rebuild information** check box. This feature helps you detect when frames are being rendered and displayed in more than 16ms. Where possible, the plugin provides a link to a relevant tip.\nThe following behaviors might negatively impact your app's performance.\n-   Avoid using the `Opacity` widget, and particularly avoid it in an animation. Use `AnimatedOpacity` or `FadeInImage` instead. For more information, check out [Performance considerations for opacity animation](https://api.flutter.dev/flutter/widgets/Opacity-class.html#performance-considerations-for-opacity-animation).\n-   When using an `AnimatedBuilder`, avoid putting a subtree in the builder function that builds widgets that don't depend on the animation. This subtree is rebuilt for every tick of the animation. Instead, build that part of the subtree once and pass it as a child to the `AnimatedBuilder`. For more information, check out [Performance optimizations](https://api.flutter.dev/flutter/widgets/AnimatedBuilder-class.html#performance-optimizations).\n-   Avoid clipping in an animation. If possible, pre-clip the image before animating it.\n-   Avoid using constructors with a concrete `List` of children (such as `Column()` or `ListView()`) if most of the children are not visible on screen to avoid the build cost.\n-   Avoid overriding `operator ==` on `Widget` objects. While it might seem like it would help by avoiding unnecessary rebuilds, in practice it hurts performance because it results in O(N) behavior. The only exception to this rule is leaf widgets (widgets with no children), in the specific case where comparing the properties of the widget is likely to be significantly more efficient than rebuilding the widget and where the widget will rarely change configuration. Even in such cases, it is generally preferable to rely on caching the widgets, because even one override of `operator ==` can result in across-the-board performance degradation as the compiler can no longer assume that the call is always static.\n## Resources\n[#](#resources)\nFor more performance info, check out the following resources:\n-   [Performance optimizations](https://api.flutter.dev/flutter/widgets/AnimatedBuilder-class.html#performance-optimizations) in the AnimatedBuilder API page\n-   [Performance considerations for opacity animation](https://api.flutter.dev/flutter/widgets/Opacity-class.html#performance-considerations-for-opacity-animation) in the Opacity API page\n-   [Child elements' lifecycle](https://api.flutter.dev/flutter/widgets/ListView-class.html#child-elements-lifecycle) and how to load them efficiently, in the ListView API page\n-   [Performance considerations](https://api.flutter.dev/flutter/widgets/StatefulWidget-class.html#performance-considerations) of a `StatefulWidget`\n-   [Best practices for optimizing Flutter web loading speed](https://blog.flutter.dev/best-practices-for-optimizing-flutter-web-loading-speed-7cc0df14ce5c)\nWas this page's content helpful?\nthumb\\_up thumb\\_down\nUnless stated otherwise, the documentation on this site reflects Flutter 3.38.6. Page last updated on 2025-11-23. [View source](https://github.com/flutter/website/blob/main/src/content/perf/best-practices.md) or [report an issue](https://github.com/flutter/website/issues/new?template=1_page_issue.yml&page-url=https://docs.flutter.dev/perf/best-practices&page-source=https://github.com/flutter/website/blob/main/src/content/perf/best-practices.md \"Report an issue with this page\").\n[![Flutter logo](https://docs.flutter.dev/assets/images/branding/flutter/logo+text/horizontal/white.svg)](https://docs.flutter.dev/ \"Flutter\")\n[](https://blog.flutter.dev \"Flutter's blog\")[](https://youtube.com/@flutterdev \"Flutter's YouTube channel\")[](https://github.com/flutter \"Flutter's GitHub organization\")[](https://bsky.app/profile/flutter.dev \"Flutter's Bluesky profile\")[](https://twitter.com/FlutterDev \"Flutter's X (Twitter) profile\")\nExcept as otherwise noted, this site is licensed under a [Creative Commons Attribution 4.0 International License,](https://creativecommons.org/licenses/by/4.0/) and code samples are licensed under the [3-Clause BSD License.](https://opensource.org/licenses/BSD-3-Clause)\n-   [Terms](https://docs.flutter.dev/tos \"Terms of use\")\n-   [Brand](https://docs.flutter.dev/brand \"Brand usage guidelines\")\n-   [Privacy](https://policies.google.com/privacy \"Privacy policy\")\n-   [Security](https://docs.flutter.dev/security \"Security philosophy and practices\")\n[](https://jaspr.site \"This site is built with the Jaspr web framework for Dart.\")",
  "timestamp": 1769986013196,
  "title": "Performance best practices"
}