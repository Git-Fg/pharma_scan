{
  "url": "https://patrol.leancode.co/cli-commands",
  "markdown": "# develop | Patrol\nCLI commands\n[\nGitHubleancodepl/patrol\n1.2K\n](https://github.com/leancodepl/patrol)\n[Follow us on X!](https://x.com/patrol_leancode)[Discord](https://discord.gg/ukBK5t4EZg)[patrol API reference](https://pub.dev/documentation/patrol/latest/index.html)[patrol\\_finders API reference](https://pub.dev/documentation/patrol_finders/latest/index.html)\nCLI commands\n[develop](https://patrol.leancode.co/cli-commands)[test](https://patrol.leancode.co/cli-commands/test)[build](https://patrol.leancode.co/cli-commands/build)[doctor](https://patrol.leancode.co/cli-commands/doctor)[update](https://patrol.leancode.co/cli-commands/update)[devices](https://patrol.leancode.co/cli-commands/devices)\n[\n![Patrol Icon](https://patrol.leancode.co/_next/static/media/patrol_icon.94a710ce.svg)Patrol\n](https://patrol.leancode.co/)\nSearch\n⌘K\n[\nGitHubleancodepl/patrol\n1.2K\n](https://github.com/leancodepl/patrol)\n[Overview](https://patrol.leancode.co/)[Documentation](https://patrol.leancode.co/documentation)[CLI commands](https://patrol.leancode.co/cli-commands)[Patrol Feature Guide](https://patrol.leancode.co/feature-guide)[Articles & Resources](https://patrol.leancode.co/articles)[Pricing](https://patrol.leancode.co/pricing)[Contact us](https://patrol.leancode.co/contact)\ndevelop\n# develop\n### [Synopsis](#synopsis)\nDevelop integration tests with Hot Restart.\n```\npatrol develop\n```\nTo see all available options and flags, run `patrol develop --help`.\n### [Description](#description)\n`patrol develop` makes the development of integration tests faster and more fun, thanks to Flutter's Hot Restart feature.\nTo run a test file with Hot Restart, specify the `--target` option:\n```\npatrol develop --target patrol_test/example_test.dart\n```\nThis performs a build of your app, so it's usually slow.\nWhen the build completes and the app starts, Hot Restart becomes active after a short while. Once it is active, type **R** to trigger a Hot Restart.\nYou can specify custom build number and build name using the `--build-name` and `--build-number` flags.\n```\npatrol develop --target patrol_test/example_test.dart --build-name=1.2.3 --build-number=123\n```\n### [Demo](#demo)\n[\nWatch on YouTube\n](https://www.youtube.com/watch?v=Z71ltoGbFw0)\n### [Caveats](#caveats)\n`patrol develop` is powerful, but it has some limitations. It's important to understand them to write correct tests.\nFlutter apps consist of 2 parts: the native part and the Flutter part. **Hot Restart restarts only the Flutter part of your app**.\nWhen you press **R**, the Flutter part of your app is restarted – your `main()` function is run again.\nIt's important to note that:\n-   The native part of your app is not restarted\n-   The app's data is not cleared\n-   The app is not uninstalled\nBelow are a few common scenarios when state of your app will probably differ between the first and later Hot Restarts.\n**No support for physical iOS**\nPatrol's Hot Restart is very unreliable when running on physical iOS devices, to the point that we consider it completely broken. This is unfortunate, but it's a [bug on the Flutter's side](https://github.com/flutter/flutter/issues/122698).\n**Permissions**\nOnce granted, a permissions cannot be revoked.\nYou have to work around this by handling both cases (of granted and not granted permissions) in your tests.\nRemoving all permissions at the beginning of each test won't work - both iOS and Android kill the app when any permission is revoked, and when the app dies, Hot Restart stops.\n**File system**\nThe files your app creates in its internal storage aren't cleared between hot restarts.\nFor example, when some data is saved to SharedPreferences during the first restart, it will stay around in subsequent restarts (unless it's manually cleared).\nThe same goes for any data the app creates during test - photos, documents, etc. It's your responsibility to clean them up at the right time to have a stable environment during `patrol develop`.\n**Native state**\nIf your app has some native code that runs only when the app is first run, it won't be re-executed on hot restarts.\nThese cases are quite specific and it's hard to give advice without knowing the context.\nSee also:\n-   [The difference between Hot Restart and Hot Reload in Flutter](https://stackoverflow.com/q/61787776/7009800)\n[\ntest\nNext Page\n](https://patrol.leancode.co/cli-commands/test)\n### On this page\n[\nSynopsis](#synopsis)[\nDescription](#description)[\nDemo](#demo)[\nCaveats](#caveats)",
  "timestamp": 1769987714743,
  "title": "develop | Patrol"
}