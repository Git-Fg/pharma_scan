{
  "url": "https://patrol.leancode.co/cli-commands/build",
  "markdown": "# build | Patrol\nCLI commands\n[\nGitHubleancodepl/patrol\n1.2K\n](https://github.com/leancodepl/patrol)\n[Follow us on X!](https://x.com/patrol_leancode)[Discord](https://discord.gg/ukBK5t4EZg)[patrol API reference](https://pub.dev/documentation/patrol/latest/index.html)[patrol\\_finders API reference](https://pub.dev/documentation/patrol_finders/latest/index.html)\nCLI commands\n[develop](https://patrol.leancode.co/cli-commands)[test](https://patrol.leancode.co/cli-commands/test)[build](https://patrol.leancode.co/cli-commands/build)[doctor](https://patrol.leancode.co/cli-commands/doctor)[update](https://patrol.leancode.co/cli-commands/update)[devices](https://patrol.leancode.co/cli-commands/devices)\n[\n![Patrol Icon](https://patrol.leancode.co/_next/static/media/patrol_icon.94a710ce.svg)Patrol\n](https://patrol.leancode.co/)\nSearch\nâŒ˜K\n[\nGitHubleancodepl/patrol\n1.2K\n](https://github.com/leancodepl/patrol)\n[Overview](https://patrol.leancode.co/)[Documentation](https://patrol.leancode.co/documentation)[CLI commands](https://patrol.leancode.co/cli-commands)[Patrol Feature Guide](https://patrol.leancode.co/feature-guide)[Articles & Resources](https://patrol.leancode.co/articles)[Pricing](https://patrol.leancode.co/pricing)[Contact us](https://patrol.leancode.co/contact)\nbuild\n# build\n### [Synopsis](#synopsis)\nBuild app binaries for integration testing.\n```\npatrol build android\npatrol build ios\n```\nTo see all available options and flags, run `patrol build android --help` or `patrol build ios --help`.\nFor `patrol build` to work, you must complete [native setup](https://patrol.leancode.co/documentation).\n### [Description](#description)\n`patrol build` is useful if you want to run test on CI, for example on Firebase Test Lab. It works the same as `patrol test`, except that it does not run tests.\n`patrol build` builds apps in debug mode by default.\nTo run tests on a physical iOS device on a device farm, the apps have to be built in release mode. To do so, pass the `--release` flag.\n### [Examples](#examples)\n**To build a single test for Android in debug mode**\n```\npatrol build android --target patrol_test/example_test.dart\n```\nor alternatively (but redundantly):\n```\npatrol build android --target patrol_test/example_test.dart --debug\n```\n**To build all tests for Android in debug mode**\n```\npatrol build android\n```\n**To build a single test for iOS device in release mode**\n```\npatrol build ios --target patrol_test/example_test.dart --release\n```\n**To build a single test for iOS simulator in debug mode**\n```\npatrol build ios --target patrol_test/example_test.dart --debug\n```\n**To build with custom build name and number**\n```\npatrol build android --build-name=1.2.3 --build-number=123\npatrol build ios --build-name=1.2.3 --build-number=123  --release\n```\n**To build with full isolation between tests**\n```\npatrol build ios --full-isolation\n```\nThe `--full-isolation` flag enables full isolation between test runs on iOS Simulator.\n### [Under the hood](#under-the-hood)\nThe `patrol build` command walks through hierarchy of the `patrol_test` directory and finds all files that end with `_test.dart`, and then creates an additional \"test bundle\" file that references all the tests it found. Thanks to this, all tests are built into a single app binary - only a single build is required, which greatly reduces time spent on building. Then, it runs a new app process for every test, improving isolation between tests and enabling sharding.\nWe call this feature **advanced test bundling**. It provides deep and seamless integration with existing Android and iOS testing tools. It also fixes some long-standing Flutter issues:\n-   [#115751](https://github.com/flutter/flutter/issues/115751)\n-   [#101296](https://github.com/flutter/flutter/issues/101296)\n-   [#117386](https://github.com/flutter/flutter/issues/117386)\nWe think that **this is huge** (even though it may not look like it at first glance). To learn more, read [the in-depth technical article](https://leancode.co/blog/patrol-2-0-improved-flutter-ui-testing) explaining the nuts and bolts.\n[\ntest\nPrevious Page\n](https://patrol.leancode.co/cli-commands/test)[\ndoctor\nNext Page\n](https://patrol.leancode.co/cli-commands/doctor)\n### On this page\n[\nSynopsis](#synopsis)[\nDescription](#description)[\nExamples](#examples)[\nUnder the hood](#under-the-hood)",
  "timestamp": 1769987725566,
  "title": "build | Patrol"
}